meta {
  name: Create Organization
  type: http
  seq: 2
}

post {
  url: {{baseUrl}}/organizations
  body: json
  auth: none
}

body:json {
  {
    "name": "Acme Corporation",
    "slug": "acme-corp",
    "description": "Our main organization",
    "industry": "Technology"
  }
}

docs {
  # Create Organization
  
  Creates a new organization. The user who creates the organization automatically becomes the **org_owner**.
  
  ## Authentication Required
  - HTTP-only cookie with access token (automatically sent by browser/Bruno)
  - Must be logged in first (use Login endpoint)
  
  ## Request Body
  ```json
  {
    "name": "Acme Corporation",        // Required: 2-255 characters
    "slug": "acme-corp",               // Optional: URL-friendly identifier
    "description": "Our main org",      // Optional: Organization description
    "industry": "Technology"            // Optional: Industry type
  }
  ```
  
  ## Validation Rules
  - **name**: 2-255 characters, required
  - **slug**: Optional, alphanumeric and hyphens only
  - **description**: Optional, max 500 characters
  - **industry**: Optional, max 100 characters
  
  ## Auto-Generated
  - **org_id**: Automatically generated primary key (SERIAL)
  - Creator automatically assigned as **org_owner**
  
  ## Response
  ```json
  {
    "success": true,
    "message": "Organization created successfully. You are now the organization owner.",
    "data": {
      "org_id": 2,
      "name": "Acme Corporation",
      "slug": "acme-corp",
      "description": "Our main organization",
      "industry": "Technology",
      "is_active": true,
      "created_at": "2025-10-27T09:31:04.155Z",
      "your_role": "org_owner"
    }
  }
  ```
  
  ## Use Cases
  - First-time user creating their workspace
  - Company admin setting up new department
  - Multi-organization user adding another workspace
  
  ## Frontend Integration
  After creating organization, frontend should:
  1. Refresh organizations list
  2. Auto-select the new organization
  3. Redirect to dashboard
  
  ## Security
  - Any authenticated user can create an organization
  - No limit on number of organizations per user
  - Creator automatically becomes org_owner
}
