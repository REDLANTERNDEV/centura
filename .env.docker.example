# ============================================
# Centura CRM - Docker Ortamı
# docker-compose ile kullanım için
# ============================================

# ============================================
# Ortam Ayarları
# ============================================
NODE_ENV=production
# Geliştirme için: development

# ============================================
# Backend Konfigürasyonu
# ============================================
BACKEND_PORT=8765
PORT=8765

# Frontend URL (CORS için) - Docker'da container adı kullan
# Localhost'tan geliniyorsa http://localhost:4321
# Docker network'ten geliniyorsa http://frontend:4321
FRONTEND_URL=http://localhost:4321

# CORS Origins - Hangi host'lardan request kabul edilecek
# Localhost: http://localhost:4321
# Docker network: http://frontend:4321
CORS_ORIGIN=http://localhost:4321

# ============================================
# Veritabanı Konfigürasyonu
# ============================================
# Docker'da: postgres = container adı (DNS)
DB_HOST=postgres
DB_PORT=5432
DB_NAME=centura_crm
DB_USER=postgres
DB_PASSWORD=your_super_secure_database_password_here

# ============================================
# JWT Konfigürasyonu
# ============================================
JWT_SECRET=your-super-secure-jwt-secret-key-here-at-least-32-characters-long
JWT_ACCESS_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# ============================================
# Oturum Konfigürasyonu (CSRF Koruması)
# ============================================
SESSION_SECRET=your-session-secret-key-here-different-from-jwt-32-chars-minimum

# ============================================
# Cookie Konfigürasyonu
# ============================================
# Docker: .example.com kullan (tüm subdomainlerde çalışır)
COOKIE_DOMAIN=.example.com
COOKIE_SECURE=true
COOKIE_HTTP_ONLY=true
COOKIE_SAME_SITE=Lax

# ============================================
# Frontend Konfigürasyonu
# ============================================
FRONTEND_PORT=4321

# Browser'dan API'ye erişim (browser-side requests)
# Browser http://localhost:4321'den request atıyor ise http://localhost:8765/api/v1 kullan
NEXT_PUBLIC_API_URL=http://localhost:8765/api/v1

# Server-side istekleri için (Next.js SSR) - Docker container'ın internal hostname'ini kullan
# Docker network içinde backend'e erişim
INTERNAL_API_URL=http://backend:8765/api/v1

# ============================================
# Docker Konfigürasyonu
# ============================================
COMPOSE_PROJECT_NAME=centura
DOCKER_BUILDKIT=1

# ============================================
# Frontend Port (Docker)
# ============================================
FRONTEND_PORT=4321

# ============================================
# Güvenlik Ayarları (İleri Düzey)
# ============================================
# Rate limiting (requests per minute)
RATE_LIMIT_WINDOW=15
RATE_LIMIT_MAX_REQUESTS=100

# ============================================
# Loglama
# ============================================
LOG_LEVEL=info
# Geliştirme için: debug

# ============================================
# Docker Notları
# ============================================
# - NODE_ENV: Docker'da production tavsiye edilir
# - DB_HOST: postgres (Docker container adı)
# - FRONTEND_URL: http://localhost:4321 (browser'dan erişim)
# - NEXT_PUBLIC_API_URL: http://localhost:8765/api/v1 (browser request'leri)
# - INTERNAL_API_URL: http://backend:8765/api/v1 (Docker ağında server-side request'leri)
# - CORS_ORIGIN: Browser'dan gelen host'u belirt
